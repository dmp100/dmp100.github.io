---
layout: default
---

<div class="category-page">
  <div class="post-back"></div>
  
  <div class="category-header">
    <h1 class="category-title">ğŸ“ {{ page.category }}/</h1>
    <p class="category-description">{{ page.description }}</p>
  </div>
  
  <div class="posts-tree">
    <div class="tree-root">_posts/{{ page.category }}/</div>

    {% comment %} ì¹´í…Œê³ ë¦¬ í¬ìŠ¤íŠ¸ ê°€ì ¸ì˜¤ê¸° (null ì²´í¬) {% endcomment %}
    {% assign target_posts = site.categories[page.category] %}
    
    {% if target_posts == nil %}
      {% assign target_posts = "" | split: "" %}
    {% endif %}
    
    {% if target_posts.size > 0 %}
      {% assign target_posts = target_posts | sort: 'date' | reverse %}
      
      {% comment %} ì‹¤ì œ íŒŒì¼ ê²½ë¡œ ê¸°ë°˜ìœ¼ë¡œ í´ë” ìˆ˜ì§‘ {% endcomment %}
      {% assign folder_map = "" | split: "" %}
      
      {% for post in target_posts %}
        {% assign clean_path = post.path | remove_first: "_posts/" %}
        {% assign path_parts = clean_path | split: "/" %}
        
        {% comment %} íŒŒì¼ëª… ì œê±°í•˜ê³  ìˆœìˆ˜ í´ë” ê²½ë¡œë§Œ ì¶”ì¶œ {% endcomment %}
        {% if path_parts.size > 1 %}
          {% assign folder_parts = "" | split: "" %}
          {% for part in path_parts %}
            {% unless forloop.last %}
              {% assign folder_parts = folder_parts | push: part %}
            {% endunless %}
          {% endfor %}
          {% assign folder_path = folder_parts | join: "/" | append: "/" %}
          {% assign folder_map = folder_map | push: folder_path %}
        {% endif %}
      {% endfor %}
      
      {% assign folder_map = folder_map | uniq | sort %}
      
      {% comment %} ë£¨íŠ¸ ë ˆë²¨ í¬ìŠ¤íŠ¸ ë¨¼ì € ì¶œë ¥ {% endcomment %}
      {% for post in target_posts %}
        {% assign clean_path = post.path | remove_first: "_posts/" %}
        {% assign path_parts = clean_path | split: "/" %}
        
        {% comment %} íŒŒì¼ì´ ì¹´í…Œê³ ë¦¬ í´ë” ë°”ë¡œ ì•„ë˜ì— ìˆëŠ” ê²½ìš° {% endcomment %}
        {% if path_parts.size == 2 %}
          {% if path_parts[0] == page.category %}
            <div class="tree-post">
              <span class="tree-icon">â”œâ”€â”€</span>
              <span class="post-date">{{ post.date | date: "%y.%m.%d" }}</span>
              <a class="post-link" href="{{ post.url | relative_url }}">{{ post.title | escape }}</a>
            </div>
          {% endif %}
        {% endif %}
      {% endfor %}
      
      {% comment %} í•˜ìœ„ í´ë” ë° í•´ë‹¹ í¬ìŠ¤íŠ¸ ì¶œë ¥ {% endcomment %}
      {% for folder_path in folder_map %}
        {% assign folder_parts = folder_path | split: "/" %}
        {% assign depth = folder_parts.size | minus: 1 %}
        
        {% if depth > 0 %}
          {% assign indent = depth | times: 20 %}
          {% assign folder_name = folder_parts[depth] %}
          
          <div class="tree-folder" style="padding-left: {{ indent }}px;">
            <span class="tree-icon">â”œâ”€â”€</span>
            <span class="folder-name">ğŸ“ {{ folder_name }}/</span>
          </div>
          
          {% comment %} ì´ í´ë”ì— ì†í•œ í¬ìŠ¤íŠ¸ ì¶œë ¥ {% endcomment %}
          {% for post in target_posts %}
            {% assign clean_path = post.path | remove_first: "_posts/" %}
            {% assign post_folder = clean_path | split: "/" %}
            {% assign post_folder_size = post_folder.size | minus: 1 %}
            
            {% assign rebuild_folder = "" | split: "" %}
            {% for part in post_folder %}
              {% unless forloop.last %}
                {% assign rebuild_folder = rebuild_folder | push: part %}
              {% endunless %}
            {% endfor %}
            {% assign post_folder_path = rebuild_folder | join: "/" | append: "/" %}
            
            {% if post_folder_path == folder_path %}
              {% assign post_indent = depth | plus: 1 | times: 20 %}
              <div class="tree-post" style="padding-left: {{ post_indent }}px;">
                <span class="tree-icon">â”œâ”€â”€</span>
                <span class="post-date">{{ post.date | date: "%y.%m.%d" }}</span>
                <a class="post-link" href="{{ post.url | relative_url }}">{{ post.title | escape }}</a>
              </div>
            {% endif %}
          {% endfor %}
        {% endif %}
      {% endfor %}
      
    {% else %}
      <div class="tree-post">
        <span class="post-date">No posts in this category yet.</span>
      </div>
    {% endif %}
  </div>
</div>